import{a as G}from"./chunk-FXJFDX2M.js";import{h as N,k as M,l as B,m as u,p as j,q as A}from"./chunk-EFTZMUDG.js";import{$ as _,$a as n,Db as z,Fa as b,Ja as F,O as g,Ta as C,Ua as x,Va as D,Xa as y,Y as h,Ya as O,Z as w,Za as S,_ as v,_a as r,ab as m,db as P,eb as c,fb as E,j as d,ja as p,ob as I,qb as l,sb as L,tb as T,ub as K,vb as V,xa as a}from"./chunk-6QHYGJX4.js";var k=class o{favoriteMfks=[{id:1,alias:"Test",mfk:j("02012101201001000000006219000001111235555")}];constructor(){}getMyFavoriteMfks(){return d(this.favoriteMfks)}addFavoriteMfk(e,t){let i=this.favoriteMfks.map(f=>f.id),s=Math.max(...i)+1;return this.favoriteMfks.push({id:s,alias:e,mfk:t}),d([...this.favoriteMfks])}deleteMyFavoriteMfk(e){let t=this.favoriteMfks.findIndex(i=>i.id===e);return this.favoriteMfks.splice(t,1),d([...this.favoriteMfks])}static \u0275fac=function(t){return new(t||o)};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};var H=(o,e)=>e.alias;function Y(o,e){o&1&&(v(),r(0,"svg",6)(1,"title"),l(2,"Remove this MFK"),n(),m(3,"path",19),n())}function $(o,e){o&1&&(v(),r(0,"svg",7)(1,"title"),l(2,"Add to favorite MFKs"),n(),m(3,"path",20),n())}function J(o,e){if(o&1){let t=P();r(0,"li",13),c("click",function(){let s=h(t).$implicit,f=E();return w(f.selectMfk(s))}),l(1),n()}if(o&2){let t=e.$implicit;a(),L(" ",t.alias," ")}}var W=class o{constructor(e){this.svc=e}favoriteMfks=p([],{});mfk=p(u(),{});inFavorite=z(()=>this.favoriteMfks().some(e=>M(this.mfk(),e.mfk)),{});showDropdown=!1;ngOnInit(){this.svc.getMyFavoriteMfks().subscribe(e=>this.favoriteMfks.set(e))}onFavoriteIconClick(){if(!this.mfk)throw new Error("Please enter or select an MFK.");if(!(B(this.mfk()).length<40))if(this.inFavorite()){let e=this.favoriteMfks().find(t=>M(this.mfk(),t.mfk))?.id??0;if(confirm("Are you sure to remove this MFK?"))this.svc.deleteMyFavoriteMfk(e).subscribe(t=>{this.favoriteMfks.set(t)});else return}else{let e=prompt("Please enter an alias for this MFK:","");if(e){if(e.length>50)throw new Error("The alias should be shorter than 50 characters.");this.svc.addFavoriteMfk(e,this.mfk()).subscribe(t=>{this.favoriteMfks.set(t)})}else return}}selectMfk(e){this.mfk.set(e.mfk),this.showDropdown=!1}clear(){this.mfk.set(u()),this.showDropdown=!1}static \u0275fac=function(t){return new(t||o)(b(k))};static \u0275cmp=F({type:o,selectors:[["app-favorite-mfk-demo"]],decls:24,vars:6,consts:[[1,"h2"],["id","favorite-mfk-group",1,"d-inline-flex"],[1,"favorite-field"],[1,"favorite-label"],["role","toolbar","aria-label","Favorite MFKs Toolbar with button groups",1,"btn-group"],["type","button",1,"btn","btn-light",3,"click"],["aria-label","Remove this MFK","role","icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"active"],["aria-label","Add to favorite MFKs","role","icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512",1,"inactive"],["role","group","aria-label","favorite mfks",1,"btn-group","dropdown"],[1,"dropdown-toggle","btn","btn-light",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer"],["role","separator",1,"dropdown-divider"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["aria-hidden","true","role","icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 352 512",2,"width","1rem","height","1rem"],["fill","currentColor","d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"],[3,"mfkChange","mfk"],["id","mfk-string"],[3,"mfk"],["fill","currentColor","d","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"],["fill","currentColor","d","M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"]],template:function(t,i){t&1&&(r(0,"p",0),l(1,"Favorite MFK"),n(),r(2,"section",1)(3,"div",2)(4,"p",3),l(5,"Favorite MFK"),n(),r(6,"div",4)(7,"button",5),c("click",function(){return i.onFavoriteIconClick()}),x(8,Y,4,0,":svg:svg",6)(9,$,4,0,":svg:svg",7),n(),r(10,"div",8)(11,"button",9),c("click",function(){return i.showDropdown=!i.showDropdown}),n(),r(12,"div",10),y(13,J,2,1,"li",11,H),m(15,"li",12),r(16,"li",13),c("click",function(){return i.clear()}),v(),r(17,"svg",14),m(18,"path",15),n(),l(19," Clear MFK "),n()()()()(),_(),r(20,"uiowa-mfk-input",16),V("mfkChange",function(f){return K(i.mfk,f)||(i.mfk=f),f}),n()(),r(21,"section",17),l(22,"MFK: "),m(23,"uiowa-mfk-string",18),n()),t&2&&(a(8),D(i.inFavorite()?8:9),a(3),C("aria-expanded",i.showDropdown),a(),I("favorite-dropdown-menu",i.showDropdown),a(),O(i.favoriteMfks()),a(7),T("mfk",i.mfk),a(3),S("mfk",i.mfk()))},dependencies:[A,G,N],styles:[".favorite-field[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;vertical-align:middle;text-align:center;margin-right:.5rem}.favorite-label[_ngcontent-%COMP%]{margin-bottom:0;white-space:nowrap;font-size:.625rem}.favorite-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px .5rem;border:1px solid #dddddd}.favorite-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#f0ad4e;width:1.5rem;height:1.5rem;vertical-align:bottom}.favorite-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{color:#867e71;width:1.5rem;height:1.5rem;vertical-align:bottom}.favorite-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .inactive[_ngcontent-%COMP%]{color:#f0ad4e}.favorite-dropdown-menu[_ngcontent-%COMP%]{display:block;transform:translateY(38px)}"]})};export{W as FavoriteMfkDemo};
